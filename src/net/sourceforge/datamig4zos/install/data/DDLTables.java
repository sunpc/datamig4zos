/**
 *  Class: install.data.DDLTables
 *  Description: This contains the default JCL templates.
 * 
 * 	Author: Peng Cheng Sun
 *   
 *  Modification History
 *  01. 11/07/2012: Code baseline. (V6.1.1)
 *  02. 08/06/2013: Add DB2COLUMN, DB2TBREL and DB2TBMIG. (V6.3)
 *  03. 08/12/2013: Add DB2FILTER. (V6.3)
 */
package net.sourceforge.datamig4zos.install.data;

/**
 * @author SunPC
 *
 */
public class DDLTables {
	
	// v6.1.1 start
	public static String MFSERVER_SEL = "SELECT * FROM information_schema.system_tables "
			+ "WHERE table_name='MFSERVER' AND table_schem='PUBLIC'";
	
	public static String MFSERVER_DDL1 = "CREATE TABLE MFSERVER "
			+ "(SERVER_NAME VARCHAR(16) NOT NULL, "
			+ "HOST_IP VARCHAR(128) NOT NULL, "
			+ "LOGON_USER VARCHAR(128) NOT NULL, "
			+ "LOGON_PWD VARCHAR(128) NOT NULL, "
			+ "DB_SSID VARCHAR(8) NOT NULL, "
			+ "JCL_HEADER VARCHAR(1024) NOT NULL, "
			+ "PARAM_DB2LOAD VARCHAR(128) NOT NULL, "
			+ "PARAM_DSNLOAD VARCHAR(128) NOT NULL, "
			+ "PARAM_SORTLIB VARCHAR(128) NOT NULL, "
			+ "PARAM_SPACE VARCHAR(128) NOT NULL, "
			+ "PARAM_UNIT VARCHAR(128) NOT NULL); ";
			
	public static String MFSERVER_DDL2 = "ALTER TABLE MFSERVER "
			+ "ADD CONSTRAINT MFSERVER_PK "
			+ "PRIMARY KEY(SERVER_NAME);";
	
	public static String DB2SCHEMA_SEL = "SELECT * FROM information_schema.system_tables "
			+ "WHERE table_name='DB2SCHEMA' AND table_schem='PUBLIC'";
	
	public static String DB2SCHEMA_DDL1 = "CREATE TABLE DB2SCHEMA "
			+ "(SERVER_NAME VARCHAR(16) NOT NULL, "
			+ "SCHEMA_NAME VARCHAR(64) NOT NULL, "
			+ "JOB_BATCH_ID VARCHAR(8) NOT NULL, "
			+ "DATASET_PREFIX VARCHAR(20) NOT NULL, "
			+ "JCL_SETTINGS VARCHAR(1024) NOT NULL); ";
			
	public static String DB2SCHEMA_DDL2 = "ALTER TABLE DB2SCHEMA "
			+ "ADD CONSTRAINT DB2SCHEMA_PK "
			+ "PRIMARY KEY(SERVER_NAME, SCHEMA_NAME); ";
	
	public static String DB2SCHEMA_DDL3 = "ALTER TABLE DB2SCHEMA "
			+ "ADD CONSTRAINT DB2SCHEMA_MFSERVER_REF "
			+ "FOREIGN KEY (SERVER_NAME) "
			+ "REFERENCES MFSERVER (SERVER_NAME) "
			+ "ON DELETE CASCADE; ";
	
	public static String DB2TABLE_SEL = "SELECT * FROM information_schema.system_tables "
			+ "WHERE table_name='DB2TABLE' AND table_schem='PUBLIC'";
	
	public static String DB2TABLE_DDL1 = "CREATE TABLE DB2TABLE "
			+ "(SERVER_NAME VARCHAR(16) NOT NULL, "
			+ "SCHEMA_NAME VARCHAR(64) NOT NULL, "
			+ "TABLE_NAME VARCHAR(128) NOT NULL, "
			+ "DB_NAME VARCHAR(128) NOT NULL, "
			+ "TS_NAME VARCHAR(128) NOT NULL); ";
			
	public static String DB2TABLE_DDL2 = "ALTER TABLE DB2TABLE "
			+ "ADD CONSTRAINT DB2TABLE_PK "
			+ "PRIMARY KEY(SERVER_NAME, SCHEMA_NAME, TABLE_NAME); ";
	
	public static String DB2TABLE_DDL3 = "ALTER TABLE DB2TABLE "
			+ "ADD CONSTRAINT DB2TABLE_SCHEMA_REF "
			+ "FOREIGN KEY (SERVER_NAME, SCHEMA_NAME) "
			+ "REFERENCES DB2SCHEMA (SERVER_NAME, SCHEMA_NAME) "
			+ "ON DELETE CASCADE; ";
	
	// v6.3 start
	public static String DB2COLUMN_SEL = "SELECT * FROM information_schema.system_tables "
			+ "WHERE table_name='DB2COLUMN' AND table_schem='PUBLIC'";
	
	public static String DB2COLUMN_DDL1 = "CREATE TABLE DB2COLUMN "
			+ "(SERVER_NAME VARCHAR(16) NOT NULL, "
			+ "SCHEMA_NAME VARCHAR(64) NOT NULL, "
			+ "TABLE_NAME VARCHAR(128) NOT NULL, "
			+ "COLUMN_NAME VARCHAR(128) NOT NULL); ";
	
	public static String DB2COLUMN_DDL2 = "ALTER TABLE DB2COLUMN "
			+ "ADD CONSTRAINT DB2COLUMN_PK "
			+ "PRIMARY KEY(SERVER_NAME, SCHEMA_NAME, TABLE_NAME, COLUMN_NAME); ";
	
	public static String DB2COLUMN_DDL3 = "ALTER TABLE DB2COLUMN "
			+ "ADD CONSTRAINT DB2COLUMN_TABLE_REF "
			+ "FOREIGN KEY (SERVER_NAME, SCHEMA_NAME, TABLE_NAME) "
			+ "REFERENCES DB2TABLE (SERVER_NAME, SCHEMA_NAME, TABLE_NAME) "
			+ "ON DELETE CASCADE; ";
	
	public static String DB2TBREF_SEL = "SELECT * FROM information_schema.system_tables "
			+ "WHERE table_name='DB2TBREF' AND table_schem='PUBLIC'";
	
	public static String DB2TBREF_DDL1 = "CREATE TABLE DB2TBREF "
			+ "(SERVER_NAME VARCHAR(16) NOT NULL, "
			+ "SCHEMA_NAME VARCHAR(64) NOT NULL, "
			+ "TABLE_NAME VARCHAR(128) NOT NULL, "
			+ "REF_TABLE_NAME VARCHAR(128) NOT NULL); ";
	
	public static String DB2TBREF_DDL2 = "ALTER TABLE DB2TBREF "
			+ "ADD CONSTRAINT DB2TBREF_PK "
			+ "PRIMARY KEY(SERVER_NAME, SCHEMA_NAME, TABLE_NAME, REF_TABLE_NAME); ";
	
	public static String DB2TBREF_DDL3 = "ALTER TABLE DB2TBREF "
			+ "ADD CONSTRAINT DB2TBREF_TABLE_REF "
			+ "FOREIGN KEY (SERVER_NAME, SCHEMA_NAME, TABLE_NAME) "
			+ "REFERENCES DB2TABLE (SERVER_NAME, SCHEMA_NAME, TABLE_NAME) "
			+ "ON DELETE CASCADE; ";
	
	public static String DB2TBMIG_SEL = "SELECT * FROM information_schema.system_tables "
			+ "WHERE table_name='DB2TBMIG' AND table_schem='PUBLIC'";
	
	public static String DB2TBMIG_DDL1 = "CREATE TABLE DB2TBMIG "
			+ "(SERVER_NAME VARCHAR(16) NOT NULL, "
			+ "SCHEMA_NAME VARCHAR(64) NOT NULL, "
			+ "TABLE_NAME VARCHAR(128) NOT NULL, "
			+ "MIG_STATUS VARCHAR(1) NOT NULL); ";
	
	public static String DB2TBMIG_DDL2 = "ALTER TABLE DB2TBMIG "
			+ "ADD CONSTRAINT DB2TBMIG_PK "
			+ "PRIMARY KEY(SERVER_NAME, SCHEMA_NAME, TABLE_NAME); ";
	
	public static String DB2TBMIG_DDL3 = "ALTER TABLE DB2TBMIG "
			+ "ADD CONSTRAINT DB2TBMIG_TABLE_REF "
			+ "FOREIGN KEY (SERVER_NAME, SCHEMA_NAME, TABLE_NAME) "
			+ "REFERENCES DB2TABLE (SERVER_NAME, SCHEMA_NAME, TABLE_NAME) "
			+ "ON DELETE CASCADE; ";
	
	public static String DB2FILTER_SEL = "SELECT * FROM information_schema.system_tables "
			+ "WHERE table_name='DB2FILTER' AND table_schem='PUBLIC'";
	
	public static String DB2FILTER_DDL1 = "CREATE TABLE DB2FILTER "
			+ "(FILTER_NAME VARCHAR(16) NOT NULL, "
			+ "SELECT_SEQ SMALLINT NOT NULL, "
			+ "SELECT_FIELD VARCHAR(128) NOT NULL, "
			+ "SELECT_OPER VARCHAR(8) NOT NULL, "
			+ "SELECT_DATA VARCHAR(2000) NOT NULL); ";
	
	public static String DB2FILTER_DDL2 = "ALTER TABLE DB2FILTER "
			+ "ADD CONSTRAINT DB2FILTER_PK "
			+ "PRIMARY KEY(FILTER_NAME, SELECT_FIELD); ";
}
